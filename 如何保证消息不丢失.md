## Consumer 端



#### 返回消息消费状态

如果 consumer 在消费消息时抛出异常，此时并未成功消费到消息， 则需要将消费的情况告知 broker

broker 只有在接受到消息消费成功的信息时，才能将消息标记为已消费 ，否则 consumer 消费失败时会导致消息丢失

但这种做法会可能会导致消息重复消费，比如 consumer 已消费成功，但因网络等问题，broker 未接收到消费成功的信息，此时 broker 依然会再次发送消息。可以通过重试降低重复消费的概率，但无法根除









